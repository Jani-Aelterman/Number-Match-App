<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:material="clr-namespace:HorusStudio.Maui.MaterialDesignControls;assembly=HorusStudio.Maui.MaterialDesignControls"
             x:Class="NumberMatch.Pages.SettingsPage"
             Title="Settings"
             Padding="{OnPlatform iOS='0,40,0,0', Android='0,45,0,0', WinUI='0,0,0,0'}">

    <Grid
        RowDefinitions="Auto,*">
        <material:MaterialTopAppBar
            Headline="Settings"
            HeadlineColor="{DynamicResource OnBackground}"
            LeadingIconCommand="{Binding GoBackCommand}"
            LeadingIcon="arrow_back.png"
            ScrollViewName="scrollView"
            Type="Large">
        </material:MaterialTopAppBar>

        <ScrollView
            x:Name="scrollView"
            Grid.Row="1"
            VerticalScrollBarVisibility="Never">
            <VerticalStackLayout>

                <!-- Color swatches card (begin) -->
                <material:MaterialCard Style="{StaticResource MaterialCardStandAlone}">
                    <VerticalStackLayout Spacing="6">
                        <material:MaterialLabel Text="Color palette"
                                                FontAttributes="Bold"
                                                HorizontalOptions="Start"
                                                TextColor="{DynamicResource OnSurface}" />

                        <!-- grid with 6 columns to show all color resources -->
                        <Grid ColumnSpacing="8" RowSpacing="8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/> <!-- row 0: title (handled above) -->
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- Row 1 -->
                            <Frame BackgroundColor="{DynamicResource Primary}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="1" Grid.Column="0" />
                            <Frame BackgroundColor="{DynamicResource PrimaryContainer}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="1" Grid.Column="1" />
                            <Frame BackgroundColor="{DynamicResource Secondary}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="1" Grid.Column="2" />
                            <Frame BackgroundColor="{DynamicResource SecondaryContainer}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="1" Grid.Column="3" />
                            <Frame BackgroundColor="{DynamicResource Tertiary}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="1" Grid.Column="4" />
                            <Frame BackgroundColor="{DynamicResource TertiaryContainer}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="1" Grid.Column="5" />

                            <!-- Row 2 -->
                            <Frame BackgroundColor="{DynamicResource Surface}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="2" Grid.Column="0" />
                            <Frame BackgroundColor="{DynamicResource SurfaceVariant}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="2" Grid.Column="1" />
                            <Frame BackgroundColor="{DynamicResource Background}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="2" Grid.Column="2" />
                            <Frame BackgroundColor="{DynamicResource Error}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="2" Grid.Column="3" />
                            <Frame BackgroundColor="{DynamicResource ErrorContainer}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="2" Grid.Column="4" />
                            <Frame BackgroundColor="{DynamicResource OnPrimary}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="2" Grid.Column="5" />

                            <!-- Row 3 -->
                            <Frame BackgroundColor="{DynamicResource OnPrimaryContainer}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="3" Grid.Column="0" />
                            <Frame BackgroundColor="{DynamicResource OnSecondary}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="3" Grid.Column="1" />
                            <Frame BackgroundColor="{DynamicResource OnSecondaryContainer}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="3" Grid.Column="2" />
                            <Frame BackgroundColor="{DynamicResource OnTertiary}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="3" Grid.Column="3" />
                            <Frame BackgroundColor="{DynamicResource OnTertiaryContainer}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="3" Grid.Column="4" />
                            <Frame BackgroundColor="{DynamicResource OnSurface}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="3" Grid.Column="5" />

                            <!-- Row 4 -->
                            <Frame BackgroundColor="{DynamicResource OnSurfaceVariant}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="4" Grid.Column="0" />
                            <Frame BackgroundColor="{DynamicResource OnError}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="4" Grid.Column="1" />
                            <Frame BackgroundColor="{DynamicResource OnErrorContainer}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="4" Grid.Column="2" />
                            <Frame BackgroundColor="{DynamicResource OnBackground}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="4" Grid.Column="3" />
                            <Frame BackgroundColor="{DynamicResource Outline}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="4" Grid.Column="4" />
                            <Frame BackgroundColor="{DynamicResource Shadow}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="4" Grid.Column="5" />

                            <!-- Row 5 -->
                            <Frame BackgroundColor="{DynamicResource InverseSurface}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="5" Grid.Column="0" />
                            <Frame BackgroundColor="{DynamicResource InverseOnSurface}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="5" Grid.Column="1" />
                            <Frame BackgroundColor="{DynamicResource InversePrimary}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="5" Grid.Column="2" />
                            <Frame BackgroundColor="{DynamicResource Surface1}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="5" Grid.Column="3" />
                            <Frame BackgroundColor="{DynamicResource Surface2}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="5" Grid.Column="4" />
                            <Frame BackgroundColor="{DynamicResource Surface3}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="5" Grid.Column="5" />

                            <!-- Row 6 -->
                            <Frame BackgroundColor="{DynamicResource Surface4}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="6" Grid.Column="0" />
                            <Frame BackgroundColor="{DynamicResource Surface5}" CornerRadius="4" HeightRequest="40" WidthRequest="40" HasShadow="True" Grid.Row="6" Grid.Column="1" />

                        </Grid>
                    </VerticalStackLayout>
                </material:MaterialCard>

                <material:MaterialCard Style="{StaticResource MaterialCardStart}">
                    <material:MaterialSwitch x:Name="OledDarkmode"
                             Text="Oled darkmode"
			                 FontAttributes="Bold"
                             TextColor="{DynamicResource OnSurface}"
                             Toggled="OledDarkmodeChanged" />
                </material:MaterialCard>

                <material:MaterialCard Style="{StaticResource MaterialCardEnd}">
                    <material:MaterialSwitch x:Name="VibrationSwitch"
                             Text="Enable Haptic Feedback"
							 FontAttributes="Bold"
                             TextColor="{DynamicResource OnSurface}"
                             Toggled="VibrationChanged" />
                </material:MaterialCard>

                <material:MaterialCard Style="{StaticResource MaterialCardStart}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Image Source="smart_display.png"
                               HeightRequest="24"
                               WidthRequest="24"
                               VerticalOptions="Center"
                               HorizontalOptions="Start"
                               Grid.Column="0">
							        <Image.Behaviors>
								        <toolkit:IconTintColorBehavior TintColor="{DynamicResource OnSurface}" />
							        </Image.Behaviors>
						</Image>

                        <material:MaterialLabel Grid.Column="1"
                                               Text="Replay Tutorial"
											   TextColor="{DynamicResource OnSurface}"
                                               FontAttributes="Bold"
                                               VerticalTextAlignment="Center"
                                               HorizontalTextAlignment="Start"
                                               Margin="12,0,0,0" />
                        <material:MaterialCard.GestureRecognizers>
                            <TapGestureRecognizer Tapped="ReplayTutorialClicked" NumberOfTapsRequired="1" />
                        </material:MaterialCard.GestureRecognizers>
                    </Grid>
                </material:MaterialCard>

                <material:MaterialCard Style="{StaticResource MaterialCardEnd}">
					<Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition Width="*" />
						</Grid.ColumnDefinitions>

						<Image Source="info.png"
                               HeightRequest="24"
                               WidthRequest="24"
                               VerticalOptions="Center"
                               HorizontalOptions="Start"
                               Grid.Column="0">
							<Image.Behaviors>
								<toolkit:IconTintColorBehavior TintColor="{DynamicResource OnSurface}" />
							</Image.Behaviors>
						</Image>

						<material:MaterialLabel Grid.Column="1"
                                               Text="Show version info"
											   TextColor="{DynamicResource OnSurface}"
                                               FontAttributes="Bold"
                                               VerticalTextAlignment="Center"
                                               HorizontalTextAlignment="Start"
                                               Margin="12,0,0,0" />
						<material:MaterialCard.GestureRecognizers>
							<TapGestureRecognizer Tapped="VersionInfoClicked" NumberOfTapsRequired="1" />
						</material:MaterialCard.GestureRecognizers>
					</Grid>
				</material:MaterialCard>
				
				

                <material:MaterialCard Style="{StaticResource MaterialCardStart}">
                    <material:MaterialSwitch x:Name="DeveloperOptions"
                             Text="Developer Options"
							 FontAttributes="Bold"
                             TextColor="{DynamicResource OnSurface}"
                             Toggled="DeveloperOptionsChanged" />
                </material:MaterialCard>

                <material:MaterialCard Style="{StaticResource MaterialCardMiddle}">
                    <material:MaterialButton x:Name="btnBackendGrid"
                             IsVisible="False"
                             Margin="5"
                             Text="Show Backend Grid"
                             Clicked="developerBtnBackendGridClicked"/>
                </material:MaterialCard>

                <material:MaterialCard Style="{StaticResource MaterialCardMiddle}">
                    <material:MaterialButton x:Name="btnRemoveRows"
                             IsVisible="False"
                             Margin="5"
                             Text="Remove Empty Rows"
                             Clicked="developerBtnRemoveRowsClicked"/>
                </material:MaterialCard>

                <material:MaterialCard Style="{StaticResource MaterialCardMiddle}">
                    <material:MaterialButton x:Name="btnStageCompletion"
                             IsVisible="False"
                             Margin="5"
                             Text="Check For Stage Completion"
                             Clicked="developerBtnStageCompletionClicked"/>
                </material:MaterialCard>

                <material:MaterialCard Style="{StaticResource MaterialCardEnd}">
                    <material:MaterialButton x:Name="btnRefreshGridColors"
                             IsVisible="False"
                             Margin="5"
                             Text="RefreshGridColors"
                             Clicked="developerBtnRefreshGridColorsClicked"/>
                </material:MaterialCard>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>